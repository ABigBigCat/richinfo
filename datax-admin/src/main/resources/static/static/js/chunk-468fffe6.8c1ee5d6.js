(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-468fffe6"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,t,a){var c=i(),o=e-c,s=20,l=0;t="undefined"===typeof t?500:t;var u=function e(){l+=s;var i=Math.easeInOutQuad(l,c,o,t);r(i),l<t?n(e):a&&"function"===typeof a&&a()};u()}},"22d7":function(e,t,a){},4969:function(e,t,a){"use strict";var n=a("22d7"),r=a.n(n);r.a},"78d1":function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"p",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"q",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"f",(function(){return h})),a.d(t,"r",(function(){return b})),a.d(t,"j",(function(){return g})),a.d(t,"k",(function(){return y})),a.d(t,"l",(function(){return v})),a.d(t,"m",(function(){return k})),a.d(t,"n",(function(){return O})),a.d(t,"o",(function(){return _}));var n=a("5530"),r=a("b775");function i(e){return Object(r["a"])({url:"/api/cloud/pageList",method:"get",params:Object(n["a"])({},e)})}function c(e){return Object(r["a"])({url:"/api/cloud/add",method:"POST",data:Object(n["a"])({},e)})}function o(e){return Object(r["a"])({url:"/api/cloud/del?id=".concat(e),method:"POST",data:Object(n["a"])({},e)})}function s(e){return Object(r["a"])({url:"/api/cloud/update",method:"POST",data:Object(n["a"])({},e)})}function l(e){return Object(r["a"])({url:"/api/source/pageList",method:"get",params:Object(n["a"])({},e)})}function u(e){return Object(r["a"])({url:"/api/source/add",method:"POST",data:Object(n["a"])({},e)})}function d(e){return Object(r["a"])({url:"/api/source/del?id=".concat(e),method:"POST",data:Object(n["a"])({},e)})}function p(e){return Object(r["a"])({url:"/api/source/update",method:"POST",data:Object(n["a"])({},e)})}function m(e){return Object(r["a"])({url:"/api/task/pageList",method:"get",params:Object(n["a"])({},e)})}function f(e){return Object(r["a"])({url:"/api/task/add",method:"POST",data:Object(n["a"])({},e)})}function h(e){return Object(r["a"])({url:"/api/task/del?id=".concat(e),method:"POST",data:Object(n["a"])({},e)})}function b(e){return Object(r["a"])({url:"/api/task/update",method:"POST",data:Object(n["a"])({},e)})}function g(e){return Object(r["a"])({url:"/api/cloud/list",method:"get",params:Object(n["a"])({},e)})}function y(e){return Object(r["a"])({url:"/api/source/list",method:"get",params:Object(n["a"])({},e)})}function v(e){return Object(r["a"])({url:"/api/cloud/listRegions",method:"get",params:Object(n["a"])({},e)})}function k(e){return Object(r["a"])({url:"/api/task/startTencentCloud",method:"POST",data:Object(n["a"])({},e)})}function O(e){return Object(r["a"])({url:"/api/task/stopTencentCloud",method:"POST",data:Object(n["a"])({},e)})}function _(e){return Object(r["a"])({url:"/api/task/tailLogs",method:"get",params:Object(n["a"])({},e)})}},a0e4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cloudAccountManagement"},[a("div",{staticClass:"top"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字"},model:{value:e.serchValue,callback:function(t){e.serchValue=t},expression:"serchValue"}}),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v("搜索")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.addCloud}},[e._v("添加云账号")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"AccessKey ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.accesskeyId))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"云账号类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.type?a("span",[e._v("腾讯云")]):e._e(),e._v(" "),1==t.row.type?a("span",[e._v("阿里云")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否可用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[(t.row.isvalid,a("span",[e._v("是")]))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(n)}}},[e._v("编辑")]),e._v(" "),"deleted"!==n.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.current,limit:e.listQuery.size},on:{"update:page":function(t){return e.$set(e.listQuery,"current",t)},"update:limit":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.fetchData}}),e._v(" "),a("el-dialog",{attrs:{title:"添加云账号",visible:e.dialogFormVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"show-message":!0,"label-position":"right","label-width":"200px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"云账号类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择云账号类型"},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}},e._l(e.types,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"AccessKey ID",prop:"accesskeyId"}},[a("el-input",{attrs:{placeholder:"请输入AccessKey ID"},model:{value:e.temp.accesskeyId,callback:function(t){e.$set(e.temp,"accesskeyId",t)},expression:"temp.accesskeyId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"AccessKey Secret",prop:"accesskeySecret"}},[a("el-input",{attrs:{placeholder:"请输入AccessKey Secret"},model:{value:e.temp.accesskeySecret,callback:function(t){e.$set(e.temp,"accesskeySecret",t)},expression:"temp.accesskeySecret"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.temp.remarks,callback:function(t){e.$set(e.temp,"remarks",t)},expression:"temp.remarks"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(e._s("create"===e.dialogStatus?"添加":"更新"))])],1)],1)],1)},r=[],i=a("5530"),c=a("333d"),o=a("78d1"),s={name:"cloudAccountManagement",components:{Pagination:c["a"]},data:function(){return{serchValue:"",listLoading:!1,list:null,total:0,listQuery:{current:1,size:10,username:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{name:"",type:"",accesskeyId:"",accesskeySecret:"",remarks:""},resetTemp:function(){this.temp=this.$options.data().temp},types:[{label:"腾讯云",value:0},{label:"阿里云",value:1}],rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],type:[{required:!0,message:"请选择云账号类型",trigger:"blur"}],accesskeyId:[{required:!0,message:"请输入AccessKey ID",trigger:"blur"}],accesskeySecret:[{required:!0,message:"请输入AccessKey Secret",trigger:"blur"}]},id:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0;var t={current:this.listQuery.current,size:this.listQuery.size,username:this.serchValue};o["g"](t).then((function(t){console.log("response",t);var a=t.content;e.list=a.data,e.listLoading=!1,e.total=t.content.recordsTotal}))},search:function(){this.listQuery={current:1,size:10,username:void 0},this.listLoading=!0,this.fetchData(),this.serchValue=""},addCloud:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&o["a"](e.temp).then((function(){e.fetchData(),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})}))}))},clearData:function(){this.temp={name:"",type:"",accesskeyId:"",accesskeySecret:"",remarks:""}},deleteData:function(){},handleClose:function(){this.clearData(),this.dialogFormVisible=!1},handleUpdate:function(e){console.log("row",e),this.dialogStatus="updata",this.dialogFormVisible=!0,this.temp=Object(i["a"])({},e)},updateData:function(){var e=this,t=Object(i["a"])({},this.temp);o["p"](t).then((function(t){console.log("response",t),e.dialogFormVisible=!1,e.fetchData(),e.$notify({title:"Success",message:"updata Successfully",type:"success",duration:2e3})}))},handleDelete:function(e){var t=this,a=this;this.$confirm("确定删除此条信息？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){o["d"](e.id).then((function(e){console.log(e),a.fetchData()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},l=s,u=(a("4969"),a("2877")),d=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=d.exports}}]);